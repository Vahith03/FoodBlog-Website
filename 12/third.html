<!DOCTYPE html>
<html>

<head>
    <title>XUV 700 Order Details</title>
</head>

<body>
    <h1>XUV 700 Order Details</h1>

    <table>
        <thead>
            <tr>
                <th>Customer Name</th>
                <th>Order Date</th>
                <th>Delivery Date</th>
                <th>Purchase ID</th>
                <th>City</th>
            </tr>
        </thead>
        <tbody id="order-details">
            <!-- Order details will be added here dynamically -->
        </tbody>
    </table>

    <div>
        <p>Number of customers who bought XUV 700 in 2021 in your city: <span id="customer-count"></span></p>
        <p>Purchase IDs of customers who bought XUV 700 in 2021 in your city:</p>
        <ul id="purchase-ids">
            <!-- Purchase IDs will be added here dynamically -->
        </ul>
    </div>

    <script>
        // Dummy data for order details
        const orderDetails = [
            {
                customerName: "John Smith",
                orderDate: "2021-05-15",
                deliveryDate: "2021-06-01",
                purchaseID: "XUV-123",
                city: "New York"
            },
            {
                customerName: "Jane Doe",
                orderDate: "2021-07-20",
                deliveryDate: "2021-08-05",
                purchaseID: "XUV-456",
                city: "Los Angeles"
            },
            {
                customerName: "Bob Johnson",
                orderDate: "2021-12-01",
                deliveryDate: "2021-12-15",
                purchaseID: "XUV-789",
                city: "Chicago"
            },
            {
                customerName: "Alice Lee",
                orderDate: "2021-06-10",
                deliveryDate: "2021-06-25",
                purchaseID: "XUV-1011",
                city: "New York"
            },
            {
                customerName: "Mike Brown",
                orderDate: "2021-09-01",
                deliveryDate: "2021-09-15",
                purchaseID: "XUV-1213",
                city: "Los Angeles"
            },
            {
                customerName: "Lisa Chen",
                orderDate: "2022-01-01",
                deliveryDate: "2022-01-15",
                purchaseID: "XUV-1415",
                city: "New York"
            }
        ];

        // Function to display order details in table
        function displayOrderDetails() {
            const tbody = document.getElementById("order-details");
            for (let i = 0; i < orderDetails.length; i++) {
                const row = tbody.insertRow(i);
                row.insertCell(0).innerText = orderDetails[i].customerName;
                row.insertCell(1).innerText = orderDetails[i].orderDate;
                row.insertCell(2).innerText = orderDetails[i].deliveryDate;
                row.insertCell(3).innerText = orderDetails[i].purchaseID;
                row.insertCell(4).innerText = orderDetails[i].city;
            }
        }

        // Function to get number of customers who bought XUV 700 in 2021 in a particular city
        function getCustomerCount(city) {
            let count = 0;
            const purchaseIDs = [];
            for (let i = 0; i < orderDetails.length; i++) {
                if (orderDetails[i].city === city && orderDetails[i].purchaseID.startsWith("XUV") && orderDetails[i].orderDate.startsWith("2021")) {
                    count++;
                    purchaseIDs.push(orderDetails[i].purchaseID);
                }
            }
            document.getElementById("customer-count").innerText = count;
            const ul = document.getElementById("purchase-ids");
            for (let i = 0; i < purchaseIDs.length; i++) {
                const li = document.createElement("li");
                li.innerText = purchaseIDs[i];
                ul.appendChild(li);
            }
        }

        // Display order details and get customer count on page load
        displayOrderDetails();
        getCustomerCount("New York");
    </script>
</body>

</html>